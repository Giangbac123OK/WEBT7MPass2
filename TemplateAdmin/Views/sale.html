<style>
    body {
        font-family: 'Poppins', sans-serif;
        background-color: #f4f7fc;
        padding: 20px;
    }

    .container {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
    }

    .btn-toggle {
        width: 50px;
        height: 25px;
        background-color: #ddd;
        border-radius: 20px;
        position: relative;
        cursor: pointer;
    }

    .btn-toggle::before {
        content: '';
        width: 20px;
        height: 20px;
        background-color: white;
        position: absolute;
        top: 50%;
        left: 5px;
        transform: translateY(-50%);
        border-radius: 50%;
        transition: all 0.3s;
    }

    .btn-toggle.active {
        background-color: #28a745;
    }

    .btn-toggle.active::before {
        left: 25px;
    }
</style>


<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Quản lý Sale</h2>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addSaleModal">+ Thêm Sale</button>
    </div>

    <table class="table table-bordered table-hover">
        <thead class="table-primary">
            <tr>
                <th>#</th>
                <th>Tên Sale</th>
                <th>Mô tả</th>
                <th>Ngày Bắt Đầu</th>
                <th>Ngày Kết Thúc</th>
                <th style="text-align: center;">Trạng Thái</th>
                <th style="text-align: center;">Hành động</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>Khuyến mãi 50%</td>
                <td>Giảm giá lớn</td>
                <td>01/04/2024</td>
                <td>30/04/2024</td>
                <td class="d-flex justify-content-center gap-2">
                    <div class="btn-toggle active" onclick="toggleStatus(this)"></div>
                </td>
                <td class="text-center">
                    <div class="d-flex justify-content-center gap-2">
                        <button class="btn btn-info btn-sm" data-bs-toggle="modal" data-bs-target="#viewSaleModal">Xem</button>
                        <button class="btn btn-warning btn-sm" data-bs-toggle="modal" data-bs-target="#editSaleModal">Sửa</button>
                        <button class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deleteSaleModal">Xóa</button>
                    </div>
                </td>                
            </tr>
        </tbody>
    </table>
</div>

<!-- Modal Thêm Sale -->
<div class="modal fade" id="addSaleModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-center w-100">Thêm Sale</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <input type="text" class="form-control mb-2" placeholder="Tên Sale">
                <textarea class="form-control mb-2" placeholder="Mô tả"></textarea>
                <input type="datetime-local" class="form-control mb-2">
                <input type="datetime-local" class="form-control mb-2">

                <!-- Bọc Chi Tiết Sale trong div có border -->
                <div class="border rounded p-3">
                    <h5 class="text-center">Chi Tiết Sale</h5>
                    <button type="button" class="btn btn-primary mb-2" id="btnAddSaleDetail">+ Thêm Sale Chi
                        Tiết</button>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 40%;">Sản phẩm</th>
                                <th class="text-center" style="width: 10%;">Đơn vị</th>
                                <th class="text-center" style="width: 15%;">Số lượng</th>
                                <th class="text-center" style="width: 25%;">Giá trị giảm</th>
                                <th class="text-center" style="width: 10%;">Hành động</th>
                            </tr>
                        </thead>
                        <tbody id="saleDetailBody">
                            <!-- Dữ liệu chi tiết sale sẽ thêm vào đây -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-success">Thêm</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Xem Sale -->
<div class="modal fade" id="viewSaleModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-center w-100">Chi tiết Sale</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p><strong>Tên Sale:</strong> Khuyến mãi 50%</p>
                <p><strong>Mô tả:</strong> Giảm giá lớn</p>
                <p><strong>Ngày Bắt Đầu:</strong> 01/04/2024</p>
                <p><strong>Ngày Kết Thúc:</strong> 30/04/2024</p>

                <!-- Bảng Sale Chi Tiết -->
                <div class="border rounded p-3 mt-3">
                    <h5 class="text-center">Chi Tiết Sale</h5>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 40%;">Sản phẩm</th>
                                <th class="text-center" style="width: 10%;">Đơn vị</th>
                                <th class="text-center" style="width: 15%;">Số lượng</th>
                                <th class="text-center" style="width: 25%;">Giá trị giảm</th>
                            </tr>
                        </thead>
                        <tbody id="viewSaleDetailBody">
                            <!-- Dữ liệu chi tiết sale sẽ thêm vào đây -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal Sửa Sale -->
<div class="modal fade" id="editSaleModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-center w-100">Sửa Sale</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <input type="text" class="form-control mb-2" id="editSaleName" value="Khuyến mãi 50%">
                <textarea class="form-control mb-2" id="editSaleDesc">Giảm giá lớn</textarea>
                <input type="date" class="form-control mb-2" id="editStartDate" value="2024-04-01">
                <input type="date" class="form-control mb-2" id="editEndDate" value="2024-04-30">

                <!-- Bảng Sale Chi Tiết (Có thể chỉnh sửa) -->
                <div class="border rounded p-3 mt-3">
                    <h5 class="text-center">Cập Nhật Chi Tiết Sale</h5>
                    <button class="btn btn-primary mb-2" id="btnAddSaleDetailupdate">Thêm Sale Chi Tiết</button>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 30%;">Sản phẩm</th>
                                <th class="text-center" style="width: 10%;">Đơn vị</th>
                                <th class="text-center" style="width: 15%;">Số lượng</th>
                                <th class="text-center" style="width: 20%;">Giá trị giảm</th>
                                <th class="text-center" style="width: 10%;"></th>
                                <th class="text-center" style="width: 10%;"></th>
                            </tr>
                        </thead>
                        <tbody id="editSaleDetailBody">
                            <!-- Dữ liệu chi tiết sale sẽ load vào đây -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-warning" id="btnUpdateSale">Cập Nhật Sale</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Xóa Sale -->
<div class="modal fade" id="deleteSaleModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Xóa Sale</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p>Bạn có chắc chắn muốn xóa sale này không?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger">Xóa</button>
            </div>
        </div>
    </div>
</div>
